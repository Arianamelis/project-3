{"ast":null,"code":"import _classCallCheck from \"/Users/arianamelis 1/Desktop/project-3-forked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/arianamelis 1/Desktop/project-3-forked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/arianamelis 1/Desktop/project-3-forked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/arianamelis 1/Desktop/project-3-forked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/arianamelis 1/Desktop/project-3-forked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/arianamelis 1/Desktop/project-3-forked/client/src/components/withAuth.js\";\nimport React, { Component } from 'react';\nimport AuthService from './AuthService';\nexport default function withAuth(AuthComponent) {\n  var Auth = new AuthService();\n  return (\n    /*#__PURE__*/\n    function (_Component) {\n      _inherits(AuthWrapped, _Component);\n\n      function AuthWrapped() {\n        var _this;\n\n        _classCallCheck(this, AuthWrapped);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AuthWrapped).call(this));\n        _this.state = {\n          user: null\n        };\n        return _this;\n      }\n\n      _createClass(AuthWrapped, [{\n        key: \"componentWillMount\",\n        value: function componentWillMount() {\n          if (!Auth.loggedIn()) {\n            this.props.history.replace('/signup');\n          } else {\n            try {\n              var profile = Auth.getProfile();\n              this.setState({\n                user: profile\n              });\n            } catch (err) {\n              Auth.logout();\n              this.props.history.replace('/signup');\n            }\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          if (this.state.user) {\n            return React.createElement(AuthComponent, {\n              history: this.props.history,\n              user: this.state.user,\n              match: this.props.match,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 34\n              },\n              __self: this\n            });\n          } else {\n            return null;\n          }\n        }\n      }]);\n\n      return AuthWrapped;\n    }(Component)\n  );\n}","map":{"version":3,"sources":["/Users/arianamelis 1/Desktop/project-3-forked/client/src/components/withAuth.js"],"names":["React","Component","AuthService","withAuth","AuthComponent","Auth","state","user","loggedIn","props","history","replace","profile","getProfile","setState","err","logout","match"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,eAAe,SAASC,QAAT,CAAkBC,aAAlB,EAAiC;AAC5C,MAAMC,IAAI,GAAG,IAAIH,WAAJ,EAAb;AACA;AAAA;AAAA;AAAA;;AACI,6BAAc;AAAA;;AAAA;;AACV;AACA,cAAKI,KAAL,GAAa;AACTC,UAAAA,IAAI,EAAE;AADG,SAAb;AAFU;AAKb;;AANL;AAAA;AAAA,6CAOyB;AACjB,cAAI,CAACF,IAAI,CAACG,QAAL,EAAL,EAAsB;AAClB,iBAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,SAA3B;AACH,WAFD,MAGK;AACD,gBAAI;AACA,kBAAMC,OAAO,GAAGP,IAAI,CAACQ,UAAL,EAAhB;AACA,mBAAKC,QAAL,CAAc;AACVP,gBAAAA,IAAI,EAAEK;AADI,eAAd;AAGH,aALD,CAMA,OAAMG,GAAN,EAAU;AACNV,cAAAA,IAAI,CAACW,MAAL;AACA,mBAAKP,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,SAA3B;AACH;AACJ;AACJ;AAvBL;AAAA;AAAA,iCAyBa;AACL,cAAI,KAAKL,KAAL,CAAWC,IAAf,EAAqB;AACjB,mBACI,oBAAC,aAAD;AAAe,cAAA,OAAO,EAAE,KAAKE,KAAL,CAAWC,OAAnC;AAA4C,cAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWC,IAA7D;AAAmE,cAAA,KAAK,EAAE,KAAKE,KAAL,CAAWQ,KAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAGH,WAJD,MAKK;AACD,mBAAO,IAAP;AACH;AACJ;AAlCL;;AAAA;AAAA,MAAiChB,SAAjC;AAAA;AAoCH","sourcesContent":["import React, { Component } from 'react';\nimport AuthService from './AuthService';\n\nexport default function withAuth(AuthComponent) {\n    const Auth = new AuthService();\n    return class AuthWrapped extends Component {\n        constructor() {\n            super();\n            this.state = {\n                user: null\n            };\n        }\n        componentWillMount() {\n            if (!Auth.loggedIn()) {\n                this.props.history.replace('/signup');\n            }\n            else {\n                try {\n                    const profile = Auth.getProfile();\n                    this.setState({\n                        user: profile\n                    });\n                }\n                catch(err){\n                    Auth.logout();\n                    this.props.history.replace('/signup');\n                }\n            }\n        }\n\n        render() {\n            if (this.state.user) {\n                return (\n                    <AuthComponent history={this.props.history} user={this.state.user} match={this.props.match} />\n                );\n            }\n            else {\n                return null;\n            }\n        }\n    };\n}\n\n"]},"metadata":{},"sourceType":"module"}